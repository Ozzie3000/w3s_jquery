<!DOCTYPE html>
<html lang="en">
<head>
<title>JS and jQuery | AJAX load</title>
<meta charset="utf-8">
<meta name="description" content="HTML5, js, jquery demos" />
<!-- server
<link rel="stylesheet" type="text/css" href="..stylesheets/main1.css"></link>
-->
<link rel="stylesheet" type="text/css" href="../stylesheets/main1.css"></link>
<link href='https://fonts.googleapis.com/css?family=Oswald' rel='stylesheet' type='text/css'>
<style type="text/css"></style>
<script src="https://code.jquery.com/jquery-2.2.0.js"></script>
<script src="https://code.jquery.com/ui/1.11.1/jquery-ui.js"></script>
<script type="text/javascript">
	$(document).ready(function(){
		
	}); //end doc ready
</script>
</head>
<body>
	<input type="button" id="submit" class="btn" value="Refreshness" onclick="location.reload();" />
	<br /><br />
  <h1>AJAX load</h1>

  <ul><span class="ul_tops">The .load() method</span>
  	<li>Simple yet awesome</li>
  	<li>.load() - loads data from a server and can put data returned into a selected element</li>
  	<li>It can request text, HTML, XML, JSON</li>
  	<li>From a remote server using HTTP get and HTTP post</li>
  	<li>Syntax: $("selector").load(URL,data,callback);</li>
  	<li>The URL is required and it specifies the URL you wish to load</li>
  	<li>The optional data is a set of key:value pairs quer string that is sent with the request</li>
  	<li>The optional callback parameter will be executed after the .load() method is completed</li>
  </ul>

  <ul><span class="ul_tops">jQuery selector added to URL parameter</span>
  	<li>You can add a jQuery selector at the end of the URL parameter</li>
  	<li>$("selector").load("URL_goes_here another_selector");</li>
  	<li>Ex: $("#div_1").load("some_file.txt #sp_1");</li>
  	<li>This will load from some_file.txt the element with the id="sp_1"</li>
  	<li>It will load it into the selection with the id="div_1"</li>
  </ul>

  <ul><span class="ul_tops">optional callback</span>
  	<li>This paramter specifies a callback function to execute once the .load() method completes</li>
  	<li>If for whatever reason it is completed already the callback function runs right way</li>
  	<li>This callback function can have parameters</li>
  	<li>
  		<ol>
  			<li>responseTxt - if call succeeded it contains the resulting content</li>
  			<li>statusTxt - status of the call</li>
  			<li>xhr - the XMLHttpRequest object</li>
  		</ol>
  	</li>
  	<li>User AJAX below to load content (written incorrect on purpose)</li>
  	<li>
  		<button id="btn_1">Load stuff</button>
  	</li>
  	<li>
  		<div id="div_1">
  			&nbsp;
  		</div>
  	</li>
  	<li>User AJAX below to load content</li>
  	<li>
  		<button id="btn_2">Load stuff again</button>
  	</li>
  	<li>
  		<div id="div_2">
  			&nbsp;
  		</div>
  	</li>
  </ul>

 

<br><br><br>
<script>
	//document.getElementById("").


	$(document).ready(function(){

	//success or error message
		$("#btn_1").click(function(){
      $("#div_1").load("External_file", function(responseTxt, statusTxt, xhr){
        if(statusTxt == "success")
            alert("External content loaded successfully!" + " " + responseTxt);
        if(statusTxt == "error")
            alert("Error: " + xhr.status + ": " + xhr.statusText);
      });
    });

    //success or error message
		$("#btn_2").click(function(){
      $("#div_2").load("http://ozzie3000.github.io./parallax_2.html h1", function(responseTxt, statusTxt, xhr){
        if(statusTxt == "success")
            alert("External content loaded successfully!" + " " + responseTxt);
        if(statusTxt == "error")
            alert("Error: " + xhr.status + ": " + xhr.statusText);
      });
    });

	}); //end doc ready
</script>
</body>
</html>